{"ast":null,"code":"import _toConsumableArray from\"D:/proshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/proshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Button,Card,ListGroupItem,Form}from'react-bootstrap';import Rating from'../components/Rating';import{listProductDetails}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Productscreen=function Productscreen(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-dark my-3\",to:\"/\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(\"h3\",{children:\"Loading....\"}):error?/*#__PURE__*/_jsx(\"h3\",{children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\"reviews\")})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price : $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description : \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsxs(Col,{children:[\" $\",product.price]})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?\"In Stock\":\"Out Of Stock\"})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:product.countInStock===0,children:\"Add To Cart\"})})})]})})})]})]});};export default Productscreen;","map":{"version":3,"sources":["D:/proshop/frontend/src/screens/Productscreen.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","Row","Col","Image","ListGroup","Button","Card","ListGroupItem","Form","Rating","listProductDetails","Productscreen","history","match","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","addToCartHandler","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Image, ListGroup, Button, Card, ListGroupItem, Form } from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport { listProductDetails } from '../actions/productActions'\r\n\r\nconst Productscreen = ({ history, match }) => {\r\n\r\n    const [qty, setQty] = useState(1)\r\n    const dispatch = useDispatch()\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(listProductDetails(match.params.id))\r\n    }, [dispatch, match])\r\n\r\n    const addToCartHandler = () => {\r\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n    }\r\n    return (\r\n        <>\r\n            <Link className='btn btn-dark my-3' to='/'>Go Back</Link>\r\n            {loading\r\n                ? <h3>Loading....</h3> :\r\n                error\r\n                    ? <h3>{error}</h3>\r\n                    : <Row>\r\n                        <Col md={6}>\r\n                            <Image src={product.image} alt={product.name} fluid></Image>\r\n                        </Col>\r\n                        <Col md={3}>\r\n                            <ListGroup variant='flush'>\r\n                                <ListGroup.Item>\r\n                                    <h3>{product.name}</h3>\r\n                                </ListGroup.Item>\r\n                                <ListGroup.Item>\r\n                                    <Rating value={product.rating} text={`${product.numReviews}reviews`} />\r\n                                </ListGroup.Item>\r\n                                <ListGroup.Item>\r\n                                    Price : ${product.price}\r\n                                </ListGroup.Item>\r\n                                <ListGroup.Item>\r\n                                    Description : {product.description}\r\n                                </ListGroup.Item>\r\n                            </ListGroup>\r\n                        </Col>\r\n                        <Col md={3}>\r\n                            <Card>\r\n                                <ListGroup variant='flush'>\r\n                                    <ListGroupItem>\r\n                                        <Row>\r\n                                            <Col>Price:</Col>\r\n                                            <Col> ${product.price}</Col>\r\n                                        </Row>\r\n                                    </ListGroupItem>\r\n                                    <ListGroupItem>\r\n                                        <Row>\r\n                                            <Col>Status:</Col>\r\n                                            <Col>{product.countInStock > 0 ? \"In Stock\" : \"Out Of Stock\"}</Col>\r\n                                        </Row>\r\n                                    </ListGroupItem>\r\n\r\n                                    {product.countInStock > 0 && (\r\n                                        <ListGroup.Item>\r\n                                            <Row>\r\n                                                <Col>Qty</Col>\r\n                                                <Col><Form.Control\r\n                                                    as='select'\r\n                                                    value={qty}\r\n                                                    onChange={(e) => setQty(e.target.value)}\r\n                                                >\r\n                                                    {[...Array(product.countInStock).keys()].map((x) => (\r\n                                                        <option key={x + 1} value={x + 1}>\r\n                                                            {x + 1}\r\n                                                        </option>\r\n\r\n                                                    )\r\n\r\n                                                    )}\r\n                                                </Form.Control>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </ListGroup.Item>\r\n                                    )}\r\n                                    <ListGroupItem>\r\n                                        <Row>\r\n                                            <Button\r\n                                                onClick={addToCartHandler}\r\n                                                className='btn-block' type=\"button\" disabled={product.countInStock === 0}>\r\n\r\n                                                Add To Cart\r\n                               </Button>\r\n                                        </Row>\r\n                                    </ListGroupItem>\r\n\r\n\r\n\r\n                                </ListGroup>\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>}\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Productscreen\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}